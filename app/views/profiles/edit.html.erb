<!-- app/views/profiles/edit.html.erb -->
<section class="section">
  <div class="container">
    <%= form_for @customer, url: profile_path, html: { multipart: true, class: "box" } do |f| %>

      <h1 class="title">Edit Profile</h1>

      <div class="field">
        <% if @customer.image.attached? %>
          <%= image_tag @customer.image.variant(resize_to_limit: [100, 100]).processed, class: "image is-128x128" %>
        <% else %>
          <%= image_tag 'default-profile.jpg', class: "image is-128x128" %> <!-- Path to your default image -->
        <% end %>
      </div>

      <div class="field">
        <%= f.label :image, "Profile Image", class: "label" %>
        <div class="file">
          <label class="file-label">
            <%= f.file_field :image, class: "file-input" %>
            <span class="file-cta">
              <span class="file-icon">
                <i class="fas fa-upload"></i>
              </span>
              <span class="file-label">
                Choose a fileâ€¦
              </span>
            </span>
          </label>
        </div>
      </div>

      <div class="field">
        <%= f.label :full_name, "Full Name", class: "label" %>
        <%= f.text_field :full_name, class: "input" %>
      </div>

      <div class="field">
        <%= f.label :email, "Email", class: "label" %>
        <%= f.email_field :email, class: "input" %>
      </div>

      <div class="field">
        <%= f.label :address, "Address", class: "label" %>
        <%= f.text_field :address, class: "input" %>
      </div>

      <div class="field">
        <%= f.label :city, "City", class: "label" %>
        <%= f.text_field :city, class: "input" %>
      </div>

      <div class="field">
        <%= f.label :postal_code, "Postal Code", class: "label" %>
        <%= f.text_field :postal_code, class: "input" %>
      </div>

      <div class="field">
        <%= f.label :province_id, "Province", class: "label" %>
        <%= f.collection_select :province_id, Province.all, :id, :name, include_blank: true, class: "select" %>
      </div>

      <div class="field">
        <%= f.submit 'Update Profile', class: "button is-primary" %>
      </div>

    <% end %>
  </div>
</section>
